use passwords

db.dropDatabase()

use passwords //place focus on passwords database, then drop database, then recreate as empty database. similar to drop if exists

db.createCollection(`thePasswordsCollection`)

db.thePasswordsCollection.insert([
    {
	"id": "0",
	"account": {
		"website": {
			"name": "Facebook",
			"url": "facebook.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimFacebook",
			"password": "TestPass0",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "01/02/2003"
		},
		"comment": "Facebook comment"
	}
},
{
	"id": "1",
	"account": {
		"website": {
			"name": "Instgram",
			"url": "instgram.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimInstagram",
			"password": "TestPass1",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "04/05/2006"
		},
		"comment": "Instgram comment"
	}
},
{
	"id": "2",
	"account": {
		"website": {
			"name": "Twitter",
			"url": "twitter.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimTwitter",
			"password": "TestPass2",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "07/08/2009"
		},
		"comment": "Twitter comment"
	}
},
{
	"id": "3",
	"account": {
		"website": {
			"name": "Tumblr",
			"url": "tumblr.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimTumblr",
			"password": "TestPass3",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "10/11/2012"
		},
		"comment": "Tumblr comment"
	}
},
{
	"id": "4",
	"account": {
		"website": {
			"name": "LinkedIn",
			"url": "linkedin.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimLinkedIn",
			"password": "TestPass1",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "30/12/2019"
		},
		"comment": "LinkedIn comment"
	}
},
{
	"id": "5",
	"account": {
		"website": {
			"name": "WikiDot",
			"url": "wikidot.com",
			"secure": "FALSE"
		},
		"user": {
			"username": "TimWikiDot",
			"password": "TestPass5",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "25/06/2016"
		},
		"comment": "WikiDot comment"
	}
},
{
	"id": "6",
	"account": {
		"website": {
			"name": "Reddit",
			"url": "reddit.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimReddit",
			"password": "TestPass6",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "19/08/2006"
		},
		"comment": "Reddit comment"
	}
},
{
	"id": "7",
	"account": {
		"website": {
			"name": "Mix",
			"url": "mix.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimMix",
			"password": "TestPass7",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "12/10/2015"
		},
		"comment": "Mix comment"
	}
},
{
	"id": "8",
	"account": {
		"website": {
			"name": "MyShopify",
			"url": "myshopify.com",
			"secure": "FALSE"
		},
		"user": {
			"username": "TimMyShopify",
			"password": "TestPass8",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "03/06/2009"
		},
		"comment": "MyShopify comment"
	}
},
{
	"id": "9",
	"account": {
		"website": {
			"name": "UofWashington",
			"url": "washington.edu",
			"secure": "FALSE"
		},
		"user": {
			"username": "TimUofWashington",
			"password": "TestPass9",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "23/07/2018"
		},
		"comment": "UofWashington comment"
	}
}
])

//Create a new entry into the database, which already hase your 10 initial entries
db.thePasswordsCollection.insert([
    {
	"id": "10",
	"account": {
		"website": {
			"name": "Amazon",
			"url": "amazon.com",
			"secure": "TRUE"
		},
		"user": {
			"username": "TimAmazon",
			"password": "TestPass10",
			"email": "TimEmail123@email.com",
			"firstName": "Timothy",
			"lastName": "Kodz",
			"passwordCreated": "14/03/2017"
		},
		"comment": "Amazon comment"
	}
}])

//Get the password associated with the URL of one of your 10 entries
db.thePasswordsCollection.find({"id": "3"}, {"account": {"user": {"password": 1}}}).pretty()

//Get all the password-related data, including the password, associated with the URLs that have https in one of your 10 entries
db.thePasswordsCollection.find({"account.website.secure": "TRUE"}).pretty()

//Change a URL associated with one of the passwords in your 10 entries
db.thePasswordsCollection.update({"id": "2"}, {$set: {"account.website.url": "twitternewurl.com"}})

//Change any password
db.thePasswordsCollection.update({"id": "8"}, {$set: {"account.user.password": "NewPass8"}})

//Remove a URL
db.thePasswordsCollection.update({"id": "2"}, {$unset: {"account.website.url": ""}})

//Remove a password
db.thePasswordsCollection.deleteOne({"id": "5"})

//Dump database to dump folder
mongodump.exe --db passwords --out C:\Users\tpark\OneDrive\Documents\GitHub\assignment-3--databases--cs-365--fall-2020\dump